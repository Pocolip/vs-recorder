# Application Name
spring.application.name=vs-recorder-backend

# Server Configuration
server.port=8080

# ========================================
# H2 Database Configuration (Development)
# ========================================

# H2 Console (useful for viewing database during development)
# Access at: http://localhost:8080/h2-console
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# H2 Database Connection
# Using file-based storage for persistence between restarts
spring.datasource.url=jdbc:h2:file:./data/vsrecorder
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# JPA/Hibernate Configuration
# create-drop: drops and creates schema on startup (good for early development)
# update: updates schema without dropping (better once entities stabilize)
# validate: validates schema, makes no changes (production)
spring.jpa.hibernate.ddl-auto=create-drop

# Show SQL queries in console (useful for debugging)
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true

# Hibernate dialect for H2
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Logging configuration for SQL
logging.level.org.hibernate.SQL=INFO
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# ========================================
# JWT Configuration
# ========================================
# Secret key for JWT signing (CHANGE THIS IN PRODUCTION!)
# Must be at least 256 bits (32 characters)
jwt.secret=your-very-secure-secret-key-change-this-in-production-minimum-256-bits-required
# Token expiration in milliseconds (86400000 = 24 hours)
jwt.expiration=86400000

# ========================================
# Notes for Migration to PostgreSQL
# ========================================
# When ready to migrate to PostgreSQL, replace the above H2 configuration with:
#
# spring.datasource.url=jdbc:postgresql://localhost:5432/vsrecorder
# spring.datasource.username=your_username
# spring.datasource.password=your_password
# spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
# spring.jpa.hibernate.ddl-auto=validate
#
# And add PostgreSQL driver dependency to pom.xml:
# <dependency>
#     <groupId>org.postgresql</groupId>
#     <artifactId>postgresql</artifactId>
#     <scope>runtime</scope>
# </dependency>

# ========================================
# File Upload Configuration
# ========================================
# Maximum file size for uploads (pokepastes, battle logs)
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# ========================================
# Jackson JSON Configuration
# ========================================
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=UTC

# ========================================
# Actuator (Health Checks)
# ========================================
# Endpoints for production monitoring
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized

# ========================================
# Application Logging
# ========================================
logging.level.com.yeskatronics.vs_recorder_backend=INFO
logging.level.org.springframework.web=INFO

# ========================================
# DevTools
# ========================================
spring.devtools.restart.enabled=true